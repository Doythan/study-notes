# 포인터

### 포인터

* 포인터 = 주소를 저장하는 변수

***

#### 기호 해석

* & : 주소 연산자(주소를 구함)
* \* : 역참조 연산자(주소로 가서 값 확인 또는 변경)

***

#### 기본 예제

```c
int a = 10;
int *p;

p = &a;       // p = a의 주소 저장
*p = 20;      // p가 가리킨 곳(a)에 20 대입

printf("%d", *p);  // 20 출력
```

→ **`*p` == a**

***

#### 포인터와 배열&#x20;

배열 이름 = 배열 첫 번째 원소 주소

```c
int arr[3] = {10, 20, 30};

int *p = arr;

printf("%d", p[1]);     // 20
printf("%d", *(p+2));   // 30
```

***

#### 이중포인터 (포인터의 포인터)

> 포인터를 가리키는 포인터

```c
int a = 50;
int *p = &a;
int **pp = &p;
```

* `pp` = p의 주소
* `*pp` = p
* `**pp` = a의 값

***

#### 2차원 배열과 포인터&#x20;

동적할당 2차원 배열

```c
int **arr;
arr = (int**) malloc(sizeof(int*) * rows);
for (int i = 0; i < rows; i++) {
    arr[i] = (int*) malloc(sizeof(int) * cols);
}
```

| 계층          | 의미              |
| ----------- | --------------- |
| `arr`       | int\* 여러 개를 가리킴 |
| `arr[i]`    | int 배열 (행) 시작주소 |
| `arr[i][j]` | 실제 값            |

***

#### free 순서

동적 할당된 2차원 배열은 이렇게 해제해야 함:

```c
for (int i = 0; i < rows; i++) {
    free(arr[i]);
}
free(arr);
```

***

#### 핵심 암기

> **포인터는 주소를 저장하고,**\
> &#xNAN;**`*`은 그 주소로 가서 값을 본다.**
